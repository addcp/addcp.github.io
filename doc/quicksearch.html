<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"doc_scripts_fulltext-search-ui.js.html":{"id":"doc_scripts_fulltext-search-ui.js.html","title":"Source: doc/scripts/fulltext-search-ui.js","body":" Addson Modules Processo 100 - Inicialização Source: doc/scripts/fulltext-search-ui.js window.SearcherDisplay = (function($) { /** * This class provides support for displaying quick search text results to users. */ function SearcherDisplay() { } SearcherDisplay.prototype.init = function() { this._displayQuickSearch(); }; /** * This method creates the quick text search entry in navigation menu and wires all required events. */ SearcherDisplay.prototype._displayQuickSearch = function() { var quickSearch = $(document.createElement(\"iframe\")), body = $(\"body\"), self = this; quickSearch.attr(\"src\", \"quicksearch.html\"); quickSearch.css(\"width\", \"0px\"); quickSearch.css(\"height\", \"0px\"); body.append(quickSearch); $(window).on(\"message\", function(msg) { var msgData = msg.originalEvent.data; if (msgData.msgid != \"docstrap.quicksearch.done\") { return; } var results = msgData.results || []; self._displaySearchResults(results); }); function startSearch() { var searchTerms = $('#search-input').prop(\"value\"); if (searchTerms) { quickSearch[0].contentWindow.postMessage({ \"searchTerms\": searchTerms, \"msgid\": \"docstrap.quicksearch.start\" }, \"*\"); } } $('#search-input').on('keyup', function(evt) { if (evt.keyCode != 13) { return; } startSearch(); return false; }); $('#search-submit').on('click', function() { startSearch(); return false; }); }; /** * This method displays the quick text search results in a modal dialog. */ SearcherDisplay.prototype._displaySearchResults = function(results) { var resultsHolder = $($(\"#searchResults\").find(\".modal-body\")), fragment = document.createDocumentFragment(), resultsList = document.createElement(\"ul\"); resultsHolder.empty(); for (var idx = 0; idx &lt; results.length; idx++) { var result = results[idx], item = document.createElement(\"li\"), link = document.createElement(\"a\"); link.href = result.id; link.innerHTML = result.title; item.appendChild(link) resultsList.appendChild(item); } fragment.appendChild(resultsList); resultsHolder.append(fragment); $(\"#searchResults\").modal({\"show\": true}); }; return new SearcherDisplay(); })($); × Search results Close "},"unit_K040000100.service.spec.js.html":{"id":"unit_K040000100.service.spec.js.html","title":"Source: unit/K040000100.service.spec.js","body":" Addson Modules Processo 100 - Inicialização Source: unit/K040000100.service.spec.js \"use strict\"; const { ServiceBroker } = require(\"moleculer\"); const service = require(\"../../K040000100.service\"); /** * &lt;strong&gt;Especificação de Teste&lt;/strong&gt; * @module Processo 100 - Inicialização */ describe(\"Testando serviço 'K040000100'\", () =&gt; { const broker = new ServiceBroker({ logger: false }); broker.createService(service); beforeAll(() =&gt; { process.env.SYSID = \"RCD\"; broker.start(); jest.setTimeout(30 * 1000); }); afterAll(() =&gt; broker.stop()); /** * @summary Deveria ter uma descrição breve em cada serviço * @name Descrição do serviço * @instance */ test(\"Deveria ter uma descrição breve em cada serviço\", function () { expect(service?.metadata?.$description).toEqual(expect.any(String)); }); /** * @summary Deveria ter um código IDAPP nas configurações de cada serviço * @name IDAPP do serviço * @instance */ test(\"Deveria ter um código IDAPP nas configurações de cada serviço\", function () { expect(service?.settings?.IDAPP).toBeDefined(); }); describe(\"Testando ação 'exit'\", () =&gt; { /** * @summary Deveria ter uma descrição breve em cada ação * @name Descrição da ação text * @instance */ test(\"Deveria ter uma descrição breve em cada ação\", function () { expect(service?.actions?.[\"exit\"].description).toEqual(expect.any(String)); }); /** * @summary Deveria retornar uma string vazia se o parâmetro P_DOWN estiver vazio * @name Ignorar rotina * @instance */ test(\"Deveria retornar uma string vazia se o parâmetro P_DOWN estiver vazio\", async function () { let resultado = null; try { resultado = await broker.call( \"K040000100.exit\", { P_DOWN: \"\" }, { meta: { user: { id: \"ADD\" } } } ); } catch (error) { resultado = error; console.log(error); } expect(resultado).toBe(\"\"); }); }); }); × Search results Close "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" Addson Modules Processo 100 - Inicialização Modules × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" Addson Modules Processo 100 - Inicialização Plano de Testes Addson / Addtax Cloud - Versão 1.1 Esta documentação descreve a aplicação de processos de qualidade de software Histórico de Revisões Data Versão Descrição Autor 24/07/2023 1.0 Versão Inicial RCruz 05/09/2023 1.1 Inclusão de Prettier e ESLint RCruz Índice 1. Introdução Objetivos Addtax Cloud Addson Escopo Identificação de Projeto 2. Itens de Teste Microsserviços Banco de Dados Armazenamento de Arquivos Autenticação e Autorização Teste de componentes Teste de Segurança e de Controle de Acesso Teste da Interface do Usuário Teste de Performance Teste de Carga 3. Estratégia de Teste Tipos de Teste Documentação de Testes Ferramentas 4. Recursos Habilidades Requeridas Instalação de bibliotecas Introdução Objetivos Esse documento do Plano de Testes do sistema Addson compõe-se dos seguintes objetivos: • Identificar informações de projeto existentes e os componentes de software que devem ser testados. • Listar os itens de teste recomendados. • Recomendar e descrever as estratégias de teste a serem empregadas. • Identificar os recursos necessários e prover uma estimativa dos esforços de teste. • Listar os elementos resultantes do projeto de testes. Addtax Cloud O AddTax é um sistema desenvolvido para automatizar o recebimento de documentos fiscais e não fiscais eletrônicos. Com o propósito de melhorar os fluxos de processamento e racionalizar a gestão de documentos fiscais eletrônicos, a fim de mitigar possíveis problemas no recebimento. Addson É um produto desenvolvido pela Addvisor com o propósito de gerenciar clientes, usuários, aplicativos e fornecer API's que otimizam tarefas manuais, controlam custos e garantem a segurança das aplicações. Escopo O sistema passará pelos testes de unidade, de integração, testes funcionais, também chamados de end-to-end e testes de carga. Os testes unitários e de integração vão lidar com a qualidade das funcionalidades, do sistema de bases de dados. Nesta fase será possível usar dados simulados e estes testes serão executados na máquina local de cada desenvolvedor e também estará vinculado ao sistema de implantação. Os testes funcionais testarão toda uma jornada do usuário, incluindo a interface do usuário e deverá ser executado em sistema idêntico a produção. Os testes de carga tratarão as questões de performance e infraestrutura e deverão ser realizados em ambiente controlado. Identificação de Projeto A tabela abaixo identifica os artefatos existentes necessários para desenvolver o plano de testes: Documento Existente Documento de arquitetura ✅ Protótipo ✅ Especificação de requisitos ❎ Manual do usuário ❎ Documento de riscos ❎ Documentação técnica ❎ 2. Itens de teste A lista abaixo identifica aqueles itens que foram identificados como alvos de teste. Essa lista representa o que será testado. Microsserviços Verificar que o funcionamento de cada rotina no nível mais unitário esteja funcionando conforme o esperado. Verificar que o código possua boas práticas de programação. Banco de Dados Verificar que os serviços que persistem dados possam realizar as seguintes ações: list (Lista todos os registros) find (Lista com mais opções de filtro) get (Seleciona pelo ID) count (Contagem de registros) create (Cria um registro) replace (Substitui o registro completo) update (Atualiza parte do registro) remove (Deleta o registro) Verificar que as ações adicionais customizadas por meio de mixins sejam executadas corretamente. Armazenamento de Arquivos Verificar que o sistema de armazenamento de arquivos esteja se comunicando corretamente com o repositório em nuvem. Autenticação e Autorização Verificar que os serviços estejam se comunicação corretamente com o provedor de identidade. Teste de Componentes Verificar que os seguintes processos estejam funcionando: Coleta de documentos Extração de dados Execução de processos Verificar que os seguintes aplicativos estejam funcionando: CRM User Management App Management Teste de Segurança e de Controle de Acesso Verificar que usuários não cadastrados não possam acessar o sistema. Verificar que os usuários somente acessam as informações que pertencem ao mandante deles. Verificar que os usuários do sistema podem acessar apenas as funcionalidades associadas ao seu usuário. Verificar que além do perfil administrador, ninguém mais pode inserir, atualizar ou remover dados que pertencem ao proprietário do sistema. Teste da Interface do Usuário Verificar que o usuário possa efetuar um processo de autenticação Verificar que o usuário possa acessar as interfaces gráficas que tenha direito. Verificar que os componentes gráficos estejam funcionando corretamente. Teste de Performance Verificar que o tempo de resposta dos serviços esteja abaixo do tempo máximo de espera. Verificar que o tempo de resposta das interfaces gráficas esteja de acordo com o esperado. Teste de Carga Verificar a resposta do sistema com 10 usuários usando uma determinada parte do sistema ao mesmo. Verificar a resposta do sistema com 100 usuários usando uma determinada parte do sistema ao mesmo tempo. Verificar a resposta do sistema com 1000 usuários usando uma determinada parte do sistema ao mesmo tempo. 3. Estratégia de Teste Tipos de Teste Testes unitários: Exercita a menor parte testável e determina se ele se comporta conforme o esperado, realizado em nível de método, ou função, validando regras de negócios. Exemplo: Tipo de campo, Obrigatoriedade de campos, Tamanho máximo, parâmetros e retorno. A ferramenta Jest será usada para comparar o resultado recebido com o resultado esperado, gerando relatório com o resultado dos testes e o percentual de cobertura de código. Testes integrados: Os testes de integração verificam como diferentes unidades do software funcionam juntos. Isso inclui testar interfaces, comunicação entre serviços e a integração com sistemas externos, como bancos de dados e APIs. A ferramenta Jest será usada para comparar o resultado recebido com o resultado esperado, gerando relatório com o resultado dos testes e o percentual de cobertura de código. Testes de componentes: Limita o escopo em uma parte do sistema testado. Aqui, todo um serviço ou módulo pode ser testado. A ferramenta Playwright será usada para simular a navegação de um usuário pelo processo. Testes de Interface de usuário: Verifica a funcionalidade do sistema focando em usabilidade, experiência do usuário, consistência das telas, layout, etc. E também pode incluir testes de acessibilidade que garantem que pessoas com algum tipo de necessidade especial também possam operar o sistema como, necessidade visual, física, auditiva, etc. É neste nível que também pode ser automatizado um teste end-to-end, que representa toda a jornada de um usuário em determinado processo. A ferramenta Playwright será usada para simular a navegação de um usuário pelo processo. Testes exploratórios: Testes manuais visando explorar comportamentos atípicos dos usuários. (Dedo gordo, caminho infeliz, etc) Teste de carga: A ferramenta Jmeter será usada para simular acessos simultâneos ao sistema. Documentação de Testes Uma documentação será gerada usando a ferramenta JSdoc, detalhando tecnicamente os requisitos que serão testados. Ferramentas As seguintes ferramentas serão empregadas para esse projeto: Jest Playwright Apache Jmeter JSdoc Recursos Essa seção apresenta os recursos recomendados para formar parte de uma equipe de Qualidade, suas principais responsabilidades, seus conhecimentos ou conjunto de habilidades. Habilidades Requeridas Essa tabela mostra as suposições de recrutamento para o projeto. Função Responsabilidades Diretor de qualidade Fornece supervisionamento gerencial. Responsabilidades: Prover direcionamento técnico, adquirir e administrar os recursos necessários, avaliar a eficiência do esforço de teste, fornecer relatórios de gerenciamento Engenheiro de qualidade Identificar, priorizar, e implementar os casos de teste. Responsabilidades: Gerar o plano de teste, implementar a arquitetura de testes, avaliar a qualidade do produto, documentar a execução dos testes Analista de testes Implementa e executa os testes. Responsabilidades: Implementar os testes, garantir a execução dos testes, registrar os resultados, analisar as falhas, documentar os incidentes Administrador do sistema de testes Garante que o ambiente e os bens de teste sejam gerenciados e mantidos. Responsabilidades: Administrar o sistema de gerenciamento de testes, garantir o funcionamento dos ambientes de testes, administrar os bancos de dados usados para teste, Instalações de bibliotecas Descreve o procedimento de instalação das bibliotecas comuns que podem ser necessárias na formatação e inspeção do código assim como a execução de testes. Prettier - Formatação de código npm install prettier -D .prettierrc { \"printWidth\": 120, \"singleQuote\": false, \"tabWidth\": 2, \"useTabs\": false, \"trailingComma\": \"none\", \"arrowParens\": \"avoid\", \"bracketSpacing\":true } ESLint - Inspeção de código npm init @eslint/config ✔ How would you like to use ESLint? · style ✔ What type of modules does your project use? · commonjs ✔ Which framework does your project use? · none ✔ Does your project use TypeScript? · No ✔ Where does your code run? · node ✔ How would you like to define a style for your project? · guide ✔ Which style guide do you want to follow? · airbnb ✔ What format do you want your config file to be in? · JavaScript npm install eslint-config-prettier -D extends: [\"airbnb-base\", \"prettier\"], ignorePatterns: [\"**/test/**\"], Jest - Testes npm install jest jest-cli jest-extended -D package.json \"jest\": { \"coverageDirectory\": \"./src/services/test/coverage\", \"collectCoverageFrom\": [ \"src/services/*.js\" ], \"coveragePathIgnorePatterns\": [ \"src/services/test/\" ], \"testEnvironment\": \"node\", \"moduleFileExtensions\": [ \"ts\", \"tsx\", \"js\" ], \"testMatch\": [ \"**/*.spec.(ts|js)\" ], \"setupFilesAfterEnv\": [ \"jest-extended/all\" ] } JSDoc - Documentação npm install jsdoc ink-docstrap taffydb -D Copiar README.md com Plano de testes conf.json { \"templates\": { \"systemName\": \"Addson\", \"theme\": \"cerulean\", \"copyright\" : \"© Addson - 2023\", \"outputSourceFiles\": true, \"outputSourcePath\": true, \"linenums\" : true, \"sort\": false, \"inverseNav\": true }, \"opts\": { \"template\": \"./node_modules/ink-docstrap/template\", \"destination\": \"./src/services/test/doc\", \"recurse\": true, \"readme\": \"./src/services/test/README.md\" } } NPM Scripts Formatação de código npm run prettier Inspeção de código npm run dc:lint Testes Automatizados npm run dc:test Geração de Documentação npm run jsdoc \"ci\": \"jest --watch --verbose\", \"test\": \"jest --verbose\", \"test:unit\": \"jest\", \"jsdoc\": \"jsdoc -c ./src/services/test/conf.json ./src/services/test\", \"lint\": \"eslint src/services --fix\", \"prettier\": \"npx prettier src/services '!src/services/test' --write\", \"dc:lint\": \"docker-compose -f docker-compose.yml build &amp;&amp; docker-compose -f docker-compose.yml run tax-00100-api npm run lint\", \"dc:test\": \"docker-compose -f docker-compose.yml build &amp;&amp; docker-compose -f docker-compose.yml run *app* npm run test\", Pre Commit npx husky-init &amp;&amp; npm install npm run prettier npm run lint npm run dc:test Git Hub Actions unit.yml # Teste de Unidade name: Unit Test on: push: branches: - '**' paths-ignore: - '.vscode/**' - '*.md' workflow_dispatch: jobs: test: runs-on: ubuntu-latest strategy: matrix: node-version: [16.x, 18.x, 20.x] fail-fast: false steps: - uses: actions/checkout@v2 with: submodules: 'true' token: ${{ secrets.PAT_TOKEN }} - name: Use Node.js ${{ matrix.node-version }} uses: actions/setup-node@v1 with: node-version: ${{ matrix.node-version }} - name: Install dependencies run: | npm install - name: Run unit tests run: npm run test:unit × Search results Close "},"module-Processo%20100%20-%20Inicializa%C3%A7%C3%A3o.html":{"id":"module-Processo%20100%20-%20Inicializa%C3%A7%C3%A3o.html","title":"Module: Processo 100 - Inicialização","body":" Addson Modules Processo 100 - Inicialização Module: Processo 100 - Inicialização Especificação de Teste Source: unit/K040000100.service.spec.js, line 5 Members Descrição do serviço Deveria ter uma descrição breve em cada serviço Source: unit/K040000100.service.spec.js, line 24 IDAPP do serviço Deveria ter um código IDAPP nas configurações de cada serviço Source: unit/K040000100.service.spec.js, line 33 Descrição da ação text Deveria ter uma descrição breve em cada ação Source: unit/K040000100.service.spec.js, line 43 Ignorar rotina Deveria retornar uma string vazia se o parâmetro P_DOWN estiver vazio Source: unit/K040000100.service.spec.js, line 52 × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
